@tailwind base;
@tailwind components;
@tailwind utilities;

/* Profile Panel Styles */
.profile-panel {
  position: absolute;
  top: calc(var(--header-height, 60px) - 5px);
  right: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  width: 260px;
  z-index: 110;
  border: 1px solid rgb(226, 232, 240);
  padding: 0;
  overflow: hidden;
  opacity: 0;
  transform: translateY(-10px) scale(0.95);
  transform-origin: top right;
  transition: opacity 0.15s ease-out, transform 0.15s ease-out, visibility 0.15s step-end;
  pointer-events: none;
  visibility: hidden;
}

.dark .profile-panel {
  background: rgb(24, 24, 27);
  border-color: rgb(63, 63, 70);
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.profile-panel.visible {
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
  visibility: visible;
  transition: opacity 0.15s ease-out, transform 0.15s ease-out, visibility 0s;
}

.profile-header {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.8rem 1rem;
  border-bottom: 1px solid rgb(226, 232, 240);
}

.dark .profile-header {
  border-color: rgb(63, 63, 70);
}

.profile-avatar {
  width: 38px;
  height: 38px;
  border-radius: 50%;
}

.profile-user-info h3 {
  font-weight: 600;
  font-size: 0.95rem;
  color: rgb(17, 24, 39);
  margin-bottom: 2px;
}

.dark .profile-user-info h3 {
  color: rgb(229, 231, 235);
}

.profile-user-info p {
  font-size: 0.85rem;
  color: rgb(107, 114, 128);
  line-height: 1.2;
}

.profile-nav {
  padding: 0.5rem 0;
  border-bottom: 1px solid rgb(226, 232, 240);
}

.dark .profile-nav {
  border-color: rgb(63, 63, 70);
}

.profile-nav-link {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.6rem 1rem;
  color: rgb(75, 85, 99);
  font-size: 0.9rem;
  transition: all 0.2s;
  border-radius: 4px;
  margin: 0 0.5rem;
  cursor: pointer;
}

.dark .profile-nav-link {
  color: rgb(156, 163, 175);
}

.profile-nav-link:hover {
  background-color: rgb(243, 244, 246);
  color: rgb(17, 24, 39);
}

.dark .profile-nav-link:hover {
  background-color: rgb(39, 39, 42);
  color: rgb(229, 231, 235);
}

.profile-actions {
  padding: 0.75rem 1rem;
}

.logout-btn {
  display: flex;
  width: 100%;
  align-items: center;
  gap: 0.75rem;
  padding: 0.6rem 1rem;
  border: none;
  background-color: rgb(254, 242, 242);
  color: rgb(220, 38, 38);
  border-radius: 6px;
  cursor: pointer;
  text-align: left;
  transition: background-color 0.2s;
  font-size: 0.9rem;
}

.dark .logout-btn {
  background-color: rgb(127, 29, 29, 0.2);
}

.logout-btn:hover {
  background-color: rgb(254, 226, 226);
}

.dark .logout-btn:hover {
  background-color: rgb(127, 29, 29, 0.3);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }

  :root {
    --suhu-floating-btn: #4F46E5;
  }
}

@layer components {
  /* Text styles */
  .text-gradient {
    @apply bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent font-extrabold;
  }
  
  /* Custom common components */
  .stock-card {
    @apply p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all duration-200 mb-3;
  }

  .stock-up {
    @apply text-green-600 dark:text-green-400 font-medium;
  }

  .stock-down {
    @apply text-red-600 dark:text-red-400 font-medium;
  }

  .signal-buy {
    @apply bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full;
  }

  .signal-sell {
    @apply bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full;
  }

  .signal-hold {
    @apply bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded-full;
  }
  
  /* Navigation and layout */
  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 flex justify-around items-center p-2 z-50;
  }

  .bottom-nav-item {
    @apply flex flex-col items-center justify-center py-1 px-2 rounded-lg;
  }

  .bottom-nav-item.active {
    @apply bg-gray-100 dark:bg-gray-800 text-primary;
  }

  .floating-suhu-btn {
    @apply fixed bottom-20 right-4 w-14 h-14 rounded-full bg-primary text-white flex items-center justify-center shadow-lg z-50 animate-pulse hover:animate-none;
  }

  /* Charts and data displays */
  .chart-container {
    @apply rounded-xl bg-white dark:bg-gray-800 p-4 shadow-sm border border-gray-100 dark:border-gray-700 mb-4;
  }

  /* Theme toggle */
  .theme-toggle {
    @apply relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary;
  }

  .theme-toggle-thumb {
    @apply pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0;
  }
  
  /* Modern Profile Panel */
  .profile-panel {
    @apply shadow-xl transform origin-top-right transition-all duration-200 ease-out;
    animation: slideInFade 0.2s ease-out forwards;
  }
  
  @keyframes slideInFade {
    from {
      opacity: 0;
      transform: translateY(-8px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  /* Modern Card Styles */
  .card-gradient {
    @apply bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900;
  }
  
  .card-gradient-accent {
    @apply bg-gradient-to-br from-primary/5 to-primary/10 dark:from-primary/10 dark:to-primary/20;
  }
  
  .card-hover {
    @apply transition duration-300 hover:shadow-md hover:border-primary/20;
  }
  
  .text-gradient {
    @apply bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent font-extrabold;
  }
  
  /* Dashboard Grid Layout */
  .dashboard-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4;
  }
  
  .dashboard-grid-item-full {
    @apply col-span-1 md:col-span-2 lg:col-span-3;
  }
  
  .dashboard-grid-item-half {
    @apply col-span-1 md:col-span-1 lg:col-span-2;
  }
  
  /* Loading Animations */
  .loading-skeleton {
    @apply relative overflow-hidden bg-gray-200 dark:bg-gray-700 before:absolute before:inset-0;
  }
  
  .loading-skeleton::before {
    content: '';
    position: absolute;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    animation: loading-skeleton 1.5s infinite;
    width: 100%;
    height: 100%;
  }
  
  @keyframes loading-skeleton {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
  
  /* Modern Watchlist Components */
  .header {
    @apply flex justify-between items-center p-4 bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700;
  }
  
  .header-title {
    @apply text-xl font-bold;
  }
  
  .header-title.center {
    @apply w-full text-center absolute left-1/2 transform -translate-x-1/2 font-bold text-2xl text-gradient;
  }
  
  .header-buttons {
    @apply flex items-center gap-3;
  }
  
  /* Profile Menu Styles */
  .profile-container {
    @apply relative;
  }
  
  .profile-button {
    @apply flex items-center justify-center rounded-full bg-blue-100 h-10 w-10 text-blue-600 dark:bg-blue-800 dark:text-blue-200 text-sm hover:bg-blue-200 dark:hover:bg-blue-700 transition-colors cursor-pointer overflow-hidden;
  }
  
  .profile-image {
    @apply h-full w-full object-cover;
  }
  
  .profile-image-placeholder {
    @apply flex items-center justify-center h-full w-full;
  }
  
  .profile-menu {
    @apply absolute right-0 top-12 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 z-50 overflow-hidden;
    animation: slideDown 0.2s ease-out;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .profile-menu-header {
    @apply p-4 border-b border-gray-100 dark:border-gray-700;
  }
  
  .profile-menu-user-info {
    @apply flex items-center gap-3;
  }
  
  .profile-menu-image {
    @apply h-12 w-12 rounded-full object-cover;
  }
  
  .profile-menu-name {
    @apply font-semibold text-gray-800 dark:text-gray-200;
  }
  
  .profile-menu-email {
    @apply text-sm text-gray-500 dark:text-gray-400;
  }
  
  .profile-menu-guest {
    @apply flex items-center gap-3;
  }
  
  .profile-menu-guest-icon {
    @apply h-12 w-12 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400;
  }
  
  .profile-menu-guest-text {
    @apply text-sm;
  }
  
  .profile-menu-link {
    @apply text-blue-600 dark:text-blue-400 hover:underline;
  }
  
  .profile-menu-items {
    @apply p-2;
  }
  
  .profile-menu-item {
    @apply flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full text-left;
  }
  
  .profile-menu-logout {
    @apply text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20;
  }
  
  .login-button {
    @apply bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 transition-colors;
  }
  
  .notifications-modal {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
  }
  
  .icon-button {
    @apply h-10 w-10 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-gray-600 transition-colors;
  }
  
  .badge {
    @apply absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold h-5 w-5 flex items-center justify-center rounded-full;
  }
  
  .search-bar-container {
    @apply p-4 bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 max-h-0 overflow-hidden transition-all duration-300;
  }
  
  .search-bar-container.show {
    @apply max-h-24;
  }
  
  .search-bar {
    @apply relative flex items-center;
  }
  
  .search-icon {
    @apply absolute left-4 text-gray-400;
  }
  
  .search-input {
    @apply w-full p-3 pl-12 rounded-xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400;
  }
  
  .clear-search-button {
    @apply absolute right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300;
  }
  
  .indices-container {
    @apply flex overflow-x-auto gap-3 p-4 bg-white dark:bg-gray-800;
  }
  
  .index-card {
    @apply min-w-[160px] p-3 bg-gray-50 dark:bg-gray-700 rounded-xl border border-gray-100 dark:border-gray-600 flex flex-col;
  }
  
  .index-name {
    @apply font-medium text-sm text-gray-600 dark:text-gray-300;
  }
  
  .index-price {
    @apply text-lg font-bold mt-1;
  }
  
  .index-change {
    @apply text-sm mt-1;
  }
  
  .index-change.positive {
    @apply text-green-600 dark:text-green-400;
  }
  
  .index-change.negative {
    @apply text-red-600 dark:text-red-400;
  }
  
  .section-container {
    @apply p-4 bg-white dark:bg-gray-800;
  }
  
  .section-header {
    @apply flex items-center gap-2 mb-3;
  }
  
  .section-icon {
    @apply text-blue-600 dark:text-blue-400;
  }
  
  .section-title {
    @apply text-lg font-bold;
  }
  
  .trending-container {
    @apply flex overflow-x-auto gap-3 pb-2;
  }
  
  .trending-card {
    @apply min-w-[180px] p-3 bg-white dark:bg-gray-700 rounded-xl border border-gray-100 dark:border-gray-600 shadow-sm;
  }
  
  .trending-name {
    @apply font-medium;
  }
  
  .trending-symbol {
    @apply text-sm text-gray-500 dark:text-gray-400 mb-2;
  }
  
  .trending-change {
    @apply text-sm font-bold mt-1;
  }
  
  .trending-change.positive {
    @apply text-green-600 dark:text-green-400;
  }
  
  .trending-change.negative {
    @apply text-red-600 dark:text-red-400;
  }
  
  .trending-volume {
    @apply text-xs text-gray-500 dark:text-gray-400 mt-1;
  }
  
  .filter-bar-container {
    @apply flex justify-between items-center p-4 bg-white dark:bg-gray-800 border-t border-b border-gray-100 dark:border-gray-700;
  }
  
  .filter-buttons-group {
    @apply flex gap-2;
  }
  
  .filter-button {
    @apply flex items-center gap-2 px-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600;
  }
  
  .filter-icon {
    @apply text-gray-500 dark:text-gray-400;
  }
  
  .add-button {
    @apply flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-500 rounded-lg text-white hover:bg-blue-700 dark:hover:bg-blue-600;
  }
  
  .add-icon {
    @apply text-white;
  }
  
  .watchlist-container {
    @apply p-4 bg-white dark:bg-gray-800;
  }
  
  .stock-card {
    @apply mb-4 bg-white dark:bg-gray-700 rounded-xl border border-gray-100 dark:border-gray-600 shadow-sm overflow-hidden;
  }
  
  .stock-card.expanded {
    @apply border-blue-200 dark:border-blue-500;
  }
  
  .stock-card-clickable-area {
    @apply w-full cursor-pointer p-4;
  }
  
  .stock-card-header {
    @apply flex justify-between gap-4;
  }
  
  .stock-title-row {
    @apply flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2;
  }
  
  .stock-name {
    @apply font-medium text-gray-800 dark:text-gray-200;
  }
  
  .stock-symbol {
    @apply text-sm text-gray-500 dark:text-gray-400;
  }
  
  .stock-price {
    @apply text-lg font-bold mt-1;
  }
  
  .stock-change {
    @apply text-sm mt-1;
  }
  
  .stock-change.positive {
    @apply text-green-600 dark:text-green-400 font-medium;
  }
  
  .stock-change.negative {
    @apply text-red-600 dark:text-red-400 font-medium;
  }
  
  .stock-volume {
    @apply text-xs text-gray-500 dark:text-gray-400 mt-1;
  }
  
  .stock-right-side {
    @apply flex flex-col items-end;
  }
  
  .signal-badge {
    @apply px-3 py-1 rounded-full text-xs font-bold;
  }
  
  .sector-text {
    @apply text-xs text-gray-500 dark:text-gray-400 mt-2;
  }
  
  .expand-button-container {
    @apply flex justify-center mt-2 text-gray-400;
  }
  
  .expanded-section {
    @apply p-4 pt-0 bg-gray-50 dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 space-y-4;
  }
  
  .expanded-section-item {
    @apply mb-3;
  }
  
  .expanded-label {
    @apply text-sm font-medium text-gray-600 dark:text-gray-300 mb-2;
  }
  
  .progress-bar-wrapper {
    @apply flex items-center gap-3;
  }
  
  .progress-bar-container {
    @apply flex-1 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden;
  }
  
  .progress-bar {
    @apply h-full bg-blue-600 dark:bg-blue-500 rounded-full;
  }
  
  .confidence-text {
    @apply text-sm font-medium text-blue-600 dark:text-blue-400 min-w-[40px] text-right;
  }
  
  .tech-levels-container {
    @apply flex gap-6;
  }
  
  .level-item {
    @apply flex-1;
  }
  
  .level-value {
    @apply font-medium text-gray-800 dark:text-gray-200;
  }
  
  .institutional-container {
    @apply flex gap-6;
  }
  
  .institutional-item {
    @apply flex-1;
  }
  
  .activity-value {
    @apply font-medium;
  }
  
  .activity-value.positive {
    @apply text-green-600 dark:text-green-400;
  }
  
  .activity-value.negative {
    @apply text-red-600 dark:text-red-400;
  }
  
  .week-range-container {
    @apply mb-3;
  }
  
  .range-bar-container {
    @apply flex items-center gap-2;
  }
  
  .range-bar {
    @apply flex-1 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-2;
  }
  
  .range-value {
    @apply text-sm text-gray-500 dark:text-gray-400;
  }
  
  .news-container {
    @apply mb-3;
  }
  
  .news-item {
    @apply mt-2 pb-2 border-b border-gray-100 dark:border-gray-700 last:border-0;
  }
  
  .news-title {
    @apply text-sm font-medium mb-1;
  }
  
  .news-positive {
    @apply text-green-600 dark:text-green-400;
  }
  
  .news-negative {
    @apply text-red-600 dark:text-red-400;
  }
  
  .news-neutral {
    @apply text-gray-800 dark:text-gray-200;
  }
  
  .news-date {
    @apply text-xs text-gray-500 dark:text-gray-400;
  }
  
  /* Modal Styles */
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 opacity-0 pointer-events-none;
  }
  
  .modal-overlay.show {
    @apply opacity-100 pointer-events-auto;
  }
  
  .modal-content {
    @apply w-[90%] max-w-md bg-white dark:bg-gray-800 rounded-xl p-5 shadow-xl border border-gray-100 dark:border-gray-700;
  }
  
  .modal-title {
    @apply text-lg font-bold mb-4 text-center;
  }
  
  .modal-option {
    @apply flex items-center p-3 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 mb-2 border border-transparent;
  }
  
  .modal-option.selected {
    @apply bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800;
  }
  
  .checkmark {
    @apply mr-3 text-blue-600 dark:text-blue-400 opacity-0;
  }
  
  .modal-option.selected .checkmark {
    @apply opacity-100;
  }
  
  .modal-option-text {
    @apply text-gray-800 dark:text-gray-200;
  }
  
  .add-stock-content {
    @apply w-[90%] max-w-md bg-white dark:bg-gray-800 rounded-xl p-5 shadow-xl border border-gray-100 dark:border-gray-700;
  }
  
  .add-stock-header {
    @apply flex justify-between items-center mb-4;
  }
  
  .add-stock-title {
    @apply text-lg font-bold;
  }
  
  .close-modal-button {
    @apply text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200;
  }
  
  .add-stock-form {
    @apply space-y-4;
  }
  
  .input-group {
    @apply space-y-1;
  }
  
  .input-label {
    @apply text-sm font-medium text-gray-600 dark:text-gray-400;
  }
  
  .input {
    @apply w-full p-3 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400;
  }
  
  .modal-buttons {
    @apply flex gap-3 mt-6;
  }
  
  .cancel-button {
    @apply flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600;
  }
  
  .confirm-button {
    @apply flex-1 px-4 py-2 bg-blue-600 dark:bg-blue-500 rounded-lg text-white hover:bg-blue-700 dark:hover:bg-blue-600;
  }
  
  .notifications-content {
    @apply w-[90%] max-w-md bg-white dark:bg-gray-800 rounded-xl p-5 shadow-xl border border-gray-100 dark:border-gray-700;
  }
  
  .notifications-header {
    @apply flex items-center mb-4;
  }
  
  .notifications-title {
    @apply text-lg font-bold mr-auto;
  }
  
  .clear-button {
    @apply text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-500 mr-4;
  }
  
  .notifications-list {
    @apply max-h-[60vh] overflow-y-auto;
  }
  
  .notification-item {
    @apply p-3 bg-gray-50 dark:bg-gray-700 rounded-lg mb-2;
  }
  
  .notification-title {
    @apply font-medium mb-1;
  }
  
  .notification-message {
    @apply text-sm text-gray-600 dark:text-gray-300 mb-2;
  }
  
  .notification-time {
    @apply text-xs text-gray-500 dark:text-gray-400;
  }
  
  /* Search icon container for Watchlist page */
  .search-icon-container {
    @apply flex justify-end px-4 py-2 bg-white dark:bg-gray-800;
  }
}